# =====================================================
# CRM CONVERSÃO - ENVIRONMENT VARIABLES
# =====================================================
# Copie este arquivo para .env.local e preencha com suas credenciais reais

# =====================================================
# DATABASE
# =====================================================
DATABASE_URL="postgresql://user:password@localhost:5432/crm_conversao"
DIRECT_URL="postgresql://user:password@localhost:5432/crm_conversao"

# =====================================================
# REDIS (Cache & Queue)
# =====================================================
REDIS_URL="redis://localhost:6379"
# Redis Cloud (Upstash) exemplo:
# REDIS_URL="rediss://default:xxxxx@us1-xxxxx.upstash.io:6379"

# =====================================================
# AUTHENTICATION
# =====================================================
JWT_SECRET="seu-secret-super-seguro-min-32-chars-aqui"
JWT_EXPIRES_IN="7d"

# NextAuth.js
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="outro-secret-super-seguro-min-32-chars"

# =====================================================
# GOOGLE CALENDAR API
# =====================================================
# Obter em: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="123456789-xxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxxxxx"
GOOGLE_REDIRECT_URI="http://localhost:3000/api/auth/google/callback"

# Para produção, adicione também:
# GOOGLE_REDIRECT_URI_PROD="https://seu-dominio.com/api/auth/google/callback"

# =====================================================
# WHATSAPP BUSINESS API
# =====================================================
# Escolha um provedor: 360dialog | twilio | wati
WABA_PROVIDER="360dialog"

# --- 360dialog (RECOMENDADO) ---
# Obter em: https://hub.360dialog.com/
WABA_API_KEY="your-360dialog-partner-api-key-here"
WABA_CLIENT_ID="your-360dialog-client-id"
WABA_PHONE_NUMBER_ID="+5531999999999"
WABA_WEBHOOK_VERIFY_TOKEN="seu-token-verificacao-aleatorio-min-32-chars"

# --- OU Twilio ---
# Obter em: https://console.twilio.com/
# TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
# TWILIO_AUTH_TOKEN="your-twilio-auth-token"
# TWILIO_WHATSAPP_NUMBER="+14155238886"

# --- OU WATI ---
# Obter em: https://app.wati.io/
# WATI_API_KEY="your-wati-api-key"
# WATI_API_ENDPOINT="https://live-server-xxxxx.wati.io"

# =====================================================
# INSTAGRAM GRAPH API
# =====================================================
# Obter em: https://developers.facebook.com/apps/
IG_APP_ID="your-instagram-app-id"
IG_APP_SECRET="your-instagram-app-secret"
IG_PAGE_ACCESS_TOKEN="your-long-lived-page-access-token"
IG_WEBHOOK_SECRET="seu-instagram-webhook-secret-min-32-chars"

# Instagram Business Account ID (obtido via Graph API)
IG_BUSINESS_ACCOUNT_ID="17841XXXXXXXXXX"

# =====================================================
# WEBHOOK SECURITY
# =====================================================
# Master secret para validar todos os webhooks
WEBHOOK_SECRET="master-webhook-secret-min-32-chars-muito-forte"

# =====================================================
# EMAIL (Opcional - para notificações)
# =====================================================
# Gmail exemplo (use App Password, não a senha normal)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_SECURE="false"
SMTP_USER="seu-email@gmail.com"
SMTP_PASSWORD="sua-senha-app-16-digitos"
SMTP_FROM_NAME="CRM Conversão"
SMTP_FROM_EMAIL="noreply@crmconversao.com"

# SendGrid exemplo:
# SENDGRID_API_KEY="SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# =====================================================
# ZOOM (Opcional - alternativa ao Google Meet)
# =====================================================
# ZOOM_CLIENT_ID="your-zoom-client-id"
# ZOOM_CLIENT_SECRET="your-zoom-client-secret"
# ZOOM_ACCOUNT_ID="your-zoom-account-id"

# =====================================================
# MONITORING & LOGGING
# =====================================================
# Sentry (opcional - error tracking)
SENTRY_DSN=""
SENTRY_ENVIRONMENT="development"

# Log level: debug | info | warn | error
LOG_LEVEL="info"

# =====================================================
# FEATURE FLAGS
# =====================================================
# Habilitar/desabilitar features
ENABLE_WEBSOCKETS="true"
ENABLE_AI_SCORING="true"
ENABLE_ELASTICSEARCH="false"
ENABLE_EMAIL_NOTIFICATIONS="false"
ENABLE_PUSH_NOTIFICATIONS="false"

# =====================================================
# AI/ML (Opcional - para scoring e sugestões)
# =====================================================
# OpenAI para features de IA
# OPENAI_API_KEY="sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
# OPENAI_MODEL="gpt-4"

# =====================================================
# STORAGE (Opcional - para anexos)
# =====================================================
# AWS S3
# AWS_ACCESS_KEY_ID="AKIAxxxxxxxxxxxxxxxx"
# AWS_SECRET_ACCESS_KEY="xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="crm-conversao-attachments"

# Cloudflare R2 (compatível com S3)
# R2_ACCOUNT_ID="your-account-id"
# R2_ACCESS_KEY_ID="your-access-key"
# R2_SECRET_ACCESS_KEY="your-secret-key"
# R2_BUCKET_NAME="crm-attachments"

# =====================================================
# ELASTICSEARCH (Opcional - busca avançada)
# =====================================================
# ELASTICSEARCH_NODE="https://localhost:9200"
# ELASTICSEARCH_USERNAME="elastic"
# ELASTICSEARCH_PASSWORD="changeme"

# =====================================================
# RATE LIMITING
# =====================================================
RATE_LIMIT_MAX_REQUESTS="100"
RATE_LIMIT_WINDOW_MS="60000"

# =====================================================
# CORS
# =====================================================
# Adicione seus domínios permitidos (separados por vírgula)
ALLOWED_ORIGINS="http://localhost:3000,http://localhost:3001"

# =====================================================
# APPLICATION
# =====================================================
NODE_ENV="development"
PORT="3000"
API_PORT="3001"

# URL base da API (se backend separado)
NEXT_PUBLIC_API_URL="http://localhost:3001"

# URL base do frontend
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# =====================================================
# TIMEZONE
# =====================================================
TZ="America/Sao_Paulo"

# =====================================================
# BACKUP (Opcional)
# =====================================================
# Configurações para backup automático
# BACKUP_ENABLED="true"
# BACKUP_SCHEDULE="0 2 * * *"  # Cron: todo dia às 2h AM
# BACKUP_RETENTION_DAYS="30"

# =====================================================
# COMPLIANCE (LGPD)
# =====================================================
# Habilitar recursos de compliance
ENABLE_GDPR_FEATURES="true"
DATA_RETENTION_DAYS="365"

# =====================================================
# ANALYTICS (Opcional)
# =====================================================
# Google Analytics
# NEXT_PUBLIC_GA_ID="G-XXXXXXXXXX"

# Hotjar
# NEXT_PUBLIC_HOTJAR_ID="XXXXXXX"

# =====================================================
# CDN (Opcional)
# =====================================================
# Cloudflare, AWS CloudFront, etc
# CDN_URL="https://cdn.seu-dominio.com"

# =====================================================
# WEBHOOKS EXTERNOS (URLs para receber)
# =====================================================
# Estas URLs devem ser públicas e acessíveis pela internet
WEBHOOK_GOOGLE_URL="https://seu-dominio.com/api/webhooks/google"
WEBHOOK_WHATSAPP_URL="https://seu-dominio.com/api/webhooks/whatsapp"
WEBHOOK_INSTAGRAM_URL="https://seu-dominio.com/api/webhooks/instagram"

# =====================================================
# DEVELOPMENT ONLY
# =====================================================
# Desabilitar verificação SSL em desenvolvimento (NÃO USE EM PRODUÇÃO)
# NODE_TLS_REJECT_UNAUTHORIZED="0"
